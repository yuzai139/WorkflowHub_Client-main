import{f as k,m as D,o as O,a as E,l as P}from"./navigation-a8a85143.js";function L(S){let{swiper:e,extendParams:y,on:f}=S;y({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let T=!1,v=!1;e.thumbs={swiper:null};function g(){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const t=s.clickedIndex,o=s.clickedSlide;if(o&&o.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof t>"u"||t===null)return;let a;s.params.loop?a=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10):a=t,e.params.loop?e.slideToLoop(a):e.slideTo(a)}function p(){const{thumbs:s}=e.params;if(T)return!1;T=!0;const t=e.constructor;if(s.swiper instanceof t)e.thumbs.swiper=s.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update();else if(D(s.swiper)){const o=Object.assign({},s.swiper);Object.assign(o,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new t(o),v=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",g),!0}function d(s){const t=e.thumbs.swiper;if(!t||t.destroyed)return;const o=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():t.params.slidesPerView;let a=1;const r=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(a=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(a=1),a=Math.floor(a),t.slides.forEach(u=>u.classList.remove(r)),t.params.loop||t.params.virtual&&t.params.virtual.enabled)for(let u=0;u<a;u+=1)O(t.slidesEl,`[data-swiper-slide-index="${e.realIndex+u}"]`).forEach(n=>{n.classList.add(r)});else for(let u=0;u<a;u+=1)t.slides[e.realIndex+u]&&t.slides[e.realIndex+u].classList.add(r);const l=e.params.thumbs.autoScrollOffset,h=l&&!t.params.loop;if(e.realIndex!==t.realIndex||h){const u=t.activeIndex;let n,b;if(t.params.loop){const i=t.slides.filter(w=>w.getAttribute("data-swiper-slide-index")===`${e.realIndex}`)[0];n=t.slides.indexOf(i),b=e.activeIndex>e.previousIndex?"next":"prev"}else n=e.realIndex,b=n>e.previousIndex?"next":"prev";h&&(n+=b==="next"?l:-1*l),t.visibleSlidesIndexes&&t.visibleSlidesIndexes.indexOf(n)<0&&(t.params.centeredSlides?n>u?n=n-Math.floor(o/2)+1:n=n+Math.floor(o/2)-1:n>u&&t.params.slidesPerGroup,t.slideTo(n,s?0:void 0))}}f("beforeInit",()=>{const{thumbs:s}=e.params;if(!(!s||!s.swiper))if(typeof s.swiper=="string"||s.swiper instanceof HTMLElement){const t=k(),o=()=>{const r=typeof s.swiper=="string"?t.querySelector(s.swiper):s.swiper;if(r&&r.swiper)s.swiper=r.swiper,p(),d(!0);else if(r){const l=h=>{s.swiper=h.detail[0],r.removeEventListener("init",l),p(),d(!0),s.swiper.update(),e.update()};r.addEventListener("init",l)}return r},a=()=>{if(e.destroyed)return;o()||requestAnimationFrame(a)};requestAnimationFrame(a)}else p(),d(!0)}),f("slideChange update resize observerUpdate",()=>{d()}),f("setTransition",(s,t)=>{const o=e.thumbs.swiper;!o||o.destroyed||o.setTransition(t)}),f("beforeDestroy",()=>{const s=e.thumbs.swiper;!s||s.destroyed||v&&s.destroy()}),Object.assign(e.thumbs,{init:p,update:d})}function V(S){let{swiper:e,extendParams:y,emit:f,once:T}=S;y({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function v(){if(e.params.cssMode)return;const d=e.getTranslate();e.setTranslate(d),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function g(){if(e.params.cssMode)return;const{touchEventsData:d,touches:s}=e;d.velocities.length===0&&d.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:d.touchStartTime}),d.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:E()})}function p(d){let{currentPos:s}=d;if(e.params.cssMode)return;const{params:t,wrapperEl:o,rtlTranslate:a,snapGrid:r,touchEventsData:l}=e,u=E()-l.touchStartTime;if(s<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(s>-e.maxTranslate()){e.slides.length<r.length?e.slideTo(r.length-1):e.slideTo(e.slides.length-1);return}if(t.freeMode.momentum){if(l.velocities.length>1){const m=l.velocities.pop(),c=l.velocities.pop(),A=m.position-c.position,C=m.time-c.time;e.velocity=A/C,e.velocity/=2,Math.abs(e.velocity)<t.freeMode.minimumVelocity&&(e.velocity=0),(C>150||E()-m.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=t.freeMode.momentumVelocityRatio,l.velocities.length=0;let n=1e3*t.freeMode.momentumRatio;const b=e.velocity*n;let i=e.translate+b;a&&(i=-i);let w=!1,x;const M=Math.abs(e.velocity)*20*t.freeMode.momentumBounceRatio;let I;if(i<e.maxTranslate())t.freeMode.momentumBounce?(i+e.maxTranslate()<-M&&(i=e.maxTranslate()-M),x=e.maxTranslate(),w=!0,l.allowMomentumBounce=!0):i=e.maxTranslate(),t.loop&&t.centeredSlides&&(I=!0);else if(i>e.minTranslate())t.freeMode.momentumBounce?(i-e.minTranslate()>M&&(i=e.minTranslate()+M),x=e.minTranslate(),w=!0,l.allowMomentumBounce=!0):i=e.minTranslate(),t.loop&&t.centeredSlides&&(I=!0);else if(t.freeMode.sticky){let m;for(let c=0;c<r.length;c+=1)if(r[c]>-i){m=c;break}Math.abs(r[m]-i)<Math.abs(r[m-1]-i)||e.swipeDirection==="next"?i=r[m]:i=r[m-1],i=-i}if(I&&T("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(a?n=Math.abs((-i-e.translate)/e.velocity):n=Math.abs((i-e.translate)/e.velocity),t.freeMode.sticky){const m=Math.abs((a?-i:i)-e.translate),c=e.slidesSizesGrid[e.activeIndex];m<c?n=t.speed:m<2*c?n=t.speed*1.5:n=t.speed*2.5}}else if(t.freeMode.sticky){e.slideToClosest();return}t.freeMode.momentumBounce&&w?(e.updateProgress(x),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating=!0,P(o,()=>{!e||e.destroyed||!l.allowMomentumBounce||(f("momentumBounce"),e.setTransition(t.speed),setTimeout(()=>{e.setTranslate(x),P(o,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(f("_freeModeNoMomentumRelease"),e.updateProgress(i),e.setTransition(n),e.setTranslate(i),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,P(o,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(i),e.updateActiveIndex(),e.updateSlidesClasses()}else if(t.freeMode.sticky){e.slideToClosest();return}else t.freeMode&&f("_freeModeNoMomentumRelease");(!t.freeMode.momentum||u>=t.longSwipesMs)&&(f("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:v,onTouchMove:g,onTouchEnd:p}})}export{L as T,V as f};
